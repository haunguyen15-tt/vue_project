<script setup lang="ts">
const props = defineProps({
  columns: Array,
  data: Array,
  onDelete: {
    type: Function
  }
})

const deleteUser = (id: number) => {
  if (props.onDelete) {
    props.onDelete(id)
  }
}
</script>

<template>
  <a-table :columns="columns" :data-source="data">
    <template #headerCell="{ column }">
      <template v-if="column.key === 'name'">
        <span>
          <smile-outlined />
          Name
        </span>
      </template>
    </template>

    <template #bodyCell="{ column, record }">
      <template v-if="column.key === 'name'">
        <a>
          {{ record.name }}
        </a>
      </template>
      <template v-else-if="column.key === 'bloodGroup'">
        <span>
          <a-tag>
            {{ record.bloodGroup.toUpperCase() }}
          </a-tag>
        </span>
      </template>
      <template v-else-if="column.key === 'action'">
        <span>
          <a>Invite ä¸€ {{ record.name }}</a>
          <a-divider type="vertical" />
          <a @click="deleteUser(record.id)">Delete</a>
          <a-divider type="vertical" />
          <a class="ant-dropdown-link">
            More actions
            <down-outlined />
          </a>
        </span>
      </template>
    </template>
  </a-table>
</template>
